(use "constraint.un")

(sink database_write)
(source database_read)

(define update_user data
	((uid (x) (
		(reg x)
		(mov x (database_read data))
		(database_write data)))))

(bind vacuous (key val)
	((err "type error")))

(bind main ()
	((uid (x) (
		(reg x)
		(mov x (constraint_setup))
		(mov x (constraint vacuous))
		(update_user ("john" "password"))
		(mov x 0)
		(int x)))))

(main)

